app.controller("IwantController",function(){function s(){function t(){$("#pan .pan-text .active").removeClass("active"),$("#pan-text"+(n+1)).addClass("active"),$("#pan").css("-webkit-transform","rotate("+r+"deg)"),o()}$("#pan-text1").addClass("active"),o();var e;$("#pan .pan-text").on("swipeUp",function(i){e&&clearTimeout(e),e=setTimeout(function(){--n,r-=36,n<0&&(n=9),t()},300)}),$("#pan .pan-text").on("swipeDown",function(i){e&&clearTimeout(e),e=setTimeout(function(){++n,r+=36,n==10&&(n=0),t()},300)})}function o(){var e=t[n].list;$("#pan-list").remove();var r=$('<div id="pan-list" class="swiper-container"></div>'),s=[];s.push('<ul class="swiper-wrapper">');for(var o=0,u=e.length;o<u;o++){var a=e[o];s.push('<li class="swiper-slide" cid="'+a.catalog+'" index="'+o+'">'+a.name+"</li>")}s.push("</ul>"),r.html(s.join("")),r.appendTo($("#pan-wrap")),r.height(i-40);var f=Math.floor((i-40)/70),l=new Swiper("#pan-list",{direction:"vertical",grabCursor:!0,slidesPerView:f});r.delegate("li","click",function(t){var n=$(t.currentTarget),r=$("#order-view"),i=$("#pan-wrap"),s=$("body").width();$("#pan-list li").removeClass("active"),n.addClass("active"),r.css("left",s).show(),setTimeout(function(){r.css("left",s-60)},0),setTimeout(function(){i.css({left:-s+260}),r.css({left:200})},1e3);var o=n.attr("index"),u=e[o].template;$.get("/static/js/views/template/"+u+"?t="+new Date,function(e){r.html(e),$("#orderOk").on("click",function(){app.redirect("/send-order")}),$("#orderCancel").on("click",function(){$("#pan-wrap").css({left:0}),r.css("left",s)})})})}var e=this,t=null,n=0,r=0,i=$(window).height()-40;i>$("body").height()&&$("body").height(i),$(".app-body").height(i),$("#pan-wrap").height(i-40),$("#order-view").height(i),$.get("/static/data/iwant-data.json?t="+(new Date).getTime(),function(e){e=JSON.parse(e),t=e.data,s()})})